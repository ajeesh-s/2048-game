(this.webpackJsonp2048game=this.webpackJsonp2048game||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(8),i=n.n(a),s=(n(24),n(25),n(26),n(3)),o=n(9),l=n(2),u={get:function(e){if(e)return localStorage.getItem(e)},set:function(e,t){if(e){var n=t||{};n="string"===typeof n?t:JSON.stringify(n),localStorage.setItem(e,n)}},delete:function(e){e&&localStorage.removeItem(e)},clear:function(){localStorage.clear()}},d=u.get("global_state")?JSON.parse(u.get("global_state")):"",b=d||{highScore:0},f=function(e,t){if("HIGHSCORE"===t.type){var n=Object(s.a)(Object(s.a)({},e),{},{highScore:t.data});return u.set("global_state",n),n}throw new Error("Unhandled action type: ".concat(t.type))},j=n(0),h=c.a.createContext();function O(){var e=c.a.useContext(h);if(void 0===e)throw new Error("useGlobalState must be used within a GlobalProvider");return e}var g=function(e){var t=e.children,n=c.a.useReducer(f,b),r=Object(l.a)(n,2),a=r[0],i=r[1];return Object(j.jsx)(h.Provider,{value:{globalState:a,dispatch:i},children:t})},m=38,v=40,x=37,p=39,y=function(e){return JSON.parse(JSON.stringify(e))},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c.a.useEffect((function(){return window.addEventListener(e,t,n),function(){window.removeEventListener(e,t,n)}}))},w=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!1,r=0;r<e.length&&!(n=e[r].some((function(e){return e===t})));r++);return n},N=function(){return[Math.floor(4*Math.random()),Math.floor(4*Math.random())]},k=function(e){for(var t=N(),n=Object(l.a)(t,2),r=n[0],c=n[1];0!==e[r][c];){var a=N(),i=Object(l.a)(a,2);r=i[0],c=i[1]}return e[r][c]=Math.random()>.5?2:4,e},C=function(e){switch(e){case 2:return"#c74876";case 4:return"#f9c56e";case 8:return"#f83f4e";case 16:return"#573a2e";case 32:return"#0b95db";case 64:return"#c20c59";case 128:return"#b72a94";case 256:return"#7f5ab3";case 512:return"#274d7e";case 1024:return"#36733";case 2048:return"#123429";default:return"#3a98a3"}},J=1,E=2,T=3,G=4,I=5,L=function(e){var t=e.data;return console.log("cube",t),Object(j.jsx)("div",{className:"col-3 board-square",style:{background:C(t),color:0!==t&&"#645B52"},children:Object(j.jsx)("div",{className:"cubicle",children:0===t?"":t})})},B=n(17),H=n.n(B),M=n(18),P=n.n(M),R=n.p+"static/media/game-over.389117e4.jpeg",A=n.p+"static/media/2048.dd8482b4.png",F=n.p+"static/media/congrats.4598a099.png",D=n.p+"static/media/high-score.71ce7175.jpeg",W=function(e,t){var n=P()(H.a);switch(e){case J:n.fire({title:Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:A,style:{height:"150px"}}),Object(j.jsx)("p",{children:"Welcome"})]})}).then((function(){return n.fire({title:Object(j.jsx)("p",{children:"Let's play"}),confirmButtonText:"Start Game",didClose:function(){return t()}})}));break;case E:n.fire({title:Object(j.jsx)("img",{src:R,style:{height:"200px"}})}).then((function(){return n.fire({title:Object(j.jsx)("p",{children:"Come on play again..."}),cancelButtonText:"Cancel",confirmButtonText:"Play Again",didClose:function(){return t()}})}));break;case G:n.fire({title:Object(j.jsx)("img",{src:F,style:{height:"200px"}})}).then((function(){return n.fire({title:Object(j.jsx)("p",{children:"Let's play again..."}),cancelButtonText:"Cancel",confirmButtonText:"Play Again",didClose:function(){return t()}})}));break;case T:n.fire({title:Object(j.jsx)("div",{children:Object(j.jsx)("p",{className:"instructions",children:"HOW TO PLAY: Use your arrow keys to move the tiles. Tiles with the same number merge into one when they touch. Add them up to reach 2048!"})})});break;case I:n.fire({title:Object(j.jsx)("p",{children:"Wow...New High Score."}),iconHtml:Object(j.jsx)("img",{src:D,style:{height:"150px"}})})}},_=function(e){var t=e.newGameOnClick;return Object(j.jsx)("div",{className:"header",children:Object(j.jsxs)("div",{class:"d-flex justify-content-between",children:[Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:t,children:"Reset Game"})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:function(){return W(T,t)},children:"Instructions"})})]})})},U=function(e){var t=e.score,n=O().globalState;return console.log(n),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"header row",children:Object(j.jsx)("div",{className:"gamename",children:Object(j.jsx)("img",{src:A,style:{height:"150px"}})})}),Object(j.jsxs)("div",{class:"d-flex justify-content-between",children:[Object(j.jsx)("div",{children:Object(j.jsxs)("button",{type:"button",class:"btn btn-outline-primary",children:["Score:",Object(j.jsx)("h2",{class:"card-title",children:"".concat(t)})]})}),Object(j.jsx)("div",{children:Object(j.jsxs)("button",{type:"button",class:"btn btn-outline-primary",children:["High Score:",Object(j.jsx)("h2",{class:"card-title",children:"".concat(n.highScore)})]})})]})]})},q=n(19),K=function(){var e=O().globalState,t=O().dispatch,n=Array(4).fill().map((function(){return Array(4).fill(0)})),r=c.a.useState(n),a=Object(l.a)(r,2),i=a[0],u=a[1],d=c.a.useState(!1),b=Object(l.a)(d,2),f=(b[0],b[1]),h=c.a.useState(0),g=Object(l.a)(h,2),N=g[0],C=g[1],E=c.a.useRef(!0);c.a.useEffect((function(){N>e.highScore&&(!function(e,t){e({type:"HIGHSCORE",data:t})}(t,N),E.current&&(W(I,F),E.current=!1))}),[N]),c.a.useEffect((function(){W(J,F)}),[]);var T=Object(q.useSwipeable)({onSwipedLeft:function(){return alert("Left")},onSwipedRight:function(){return alert("Right")},preventDefaultTouchmoveEvent:!0,trackMouse:!0}),B=function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=i,n=y(i),r=0;r<4;r++)for(var c=n[r],a=0,s=1;a<4;)4!==s?0===c[a]&&0===c[s]?s++:0===c[a]&&0!==c[s]?(c[a]=c[s],c[s]=0,s++):0!==c[a]&&0===c[s]?s++:0!==c[a]&&0!==c[s]&&(c[a]===c[s]?(c[a]=c[a]+c[s],C(N+c[a]),c[s]=0,s=a+1,a++):s=++a+1):(s=a+1,a++);return R(t,n,e)},H=function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(o.a)(i),n=y(i),r=0;r<4;r++)for(var c=0,a=1;c<4;)4!==a?0===t[c][r]&&0===t[a][r]?a++:0===t[c][r]&&0!==t[a][r]?(t[c][r]=t[a][r],t[a][r]=0,a++):0!==t[c][r]&&0===t[a][r]?a++:0!==t[c][r]&&0!==t[a][r]&&(t[c][r]===t[a][r]?(t[c][r]=t[c][r]+t[a][r],C(N+t[c][r]),t[a][r]=0,a=c+1,c++):a=++c+1):(a=c+1,c++);return R(n,t,e)},M=function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=i,n=y(i),r=3;r>=0;r--)for(var c=n[r],a=c.length-1,s=a-1;a>0;)-1!==s?0===c[a]&&0===c[s]?s--:0===c[a]&&0!==c[s]?(c[a]=c[s],c[s]=0,s--):0!==c[a]&&0===c[s]?s--:0!==c[a]&&0!==c[s]&&(c[a]===c[s]?(c[a]=c[a]+c[s],C(N+c[a]),c[s]=0,s=a-1,a--):s=--a-1):(s=a-1,a--);return R(t,n,e)},P=function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(o.a)(i),n=y(i),r=3;r>=0;r--)for(var c=t.length-1,a=c-1;c>0;)-1!==a?0===t[c][r]&&0===t[a][r]?a--:0===t[c][r]&&0!==t[a][r]?(t[c][r]=t[a][r],t[a][r]=0,a--):0!==t[c][r]&&0===t[a][r]?a--:0!==t[c][r]&&0!==t[a][r]&&(t[c][r]===t[a][r]?(t[c][r]=t[c][r]+t[a][r],C(N+t[c][r]),t[a][r]=0,a=c-1,c--):a=--c-1):(a=c-1,c--);return R(n,t,e)},R=function(e,t,n){if(JSON.stringify(e)!==JSON.stringify(t)?w(t,2048)?(f(!0),u(t),W(G,F)):t=k(t):n&&D()&&alert("Game Over"),!n)return t;u(t)},A=function(e){switch(console.log(e),e.keyCode){case x:B();break;case m:H();break;case p:M();break;case v:P()}},F=function(){var e=y(k(k(n)));u(e),C(0)},D=function(){return!w(i,0)&&-1!==[JSON.stringify(B(!1)),JSON.stringify(H(!1)),JSON.stringify(M(!1)),JSON.stringify(P(!1))].indexOf(JSON.stringify(i))};return Object(j.jsxs)("div",Object(s.a)(Object(s.a)({className:"container full-width"},T),{},{children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)(U,{score:N})}),Object(j.jsxs)("div",{className:"board-container container",tabIndex:"-1",onKeyDown:A,children:[S("keydown",A),Object(j.jsx)("div",{className:"row",children:i.map((function(e){return Object(j.jsx)(j.Fragment,{children:e.map((function(e,t){return Object(j.jsx)(L,{data:e},"cubic-".concat(t))}))})}))})]}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)(_,{newGameOnClick:F})})]}))};var Y=function(){return Object(j.jsx)(g,{children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)(K,{})})})})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};n(39);i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Y,{})}),document.getElementById("root")),z()}},[[40,1,2]]]);
//# sourceMappingURL=main.238af53b.chunk.js.map