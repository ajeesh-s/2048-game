(this.webpackJsonp2048game=this.webpackJsonp2048game||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(7),i=n.n(a),s=(n(23),n(24),n(25),n(8)),o=n(2),l=n(9),u={get:function(e){if(e)return localStorage.getItem(e)},set:function(e,t){if(e){var n=t||{};n="string"===typeof n?t:JSON.stringify(n),localStorage.setItem(e,n)}},delete:function(e){e&&localStorage.removeItem(e)},clear:function(){localStorage.clear()}},d=u.get("global_state")?JSON.parse(u.get("global_state")):"",b=d||{highScore:0},j=function(e,t){if("HIGHSCORE"===t.type){var n=Object(l.a)(Object(l.a)({},e),{},{highScore:t.data});return u.set("global_state",n),n}throw new Error("Unhandled action type: ".concat(t.type))},f=n(0),h=c.a.createContext();function O(){var e=c.a.useContext(h);if(void 0===e)throw new Error("useGlobalState must be used within a GlobalProvider");return e}var g=function(e){var t=e.children,n=c.a.useReducer(j,b),r=Object(o.a)(n,2),a=r[0],i=r[1];return Object(f.jsx)(h.Provider,{value:{globalState:a,dispatch:i},children:t})},m=38,v=40,x=37,p=39,y=function(e){return JSON.parse(JSON.stringify(e))},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c.a.useEffect((function(){return window.addEventListener(e,t,n),function(){window.removeEventListener(e,t,n)}}))},w=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!1,r=0;r<e.length&&!(n=e[r].some((function(e){return e===t})));r++);return n},N=function(){return[Math.floor(4*Math.random()),Math.floor(4*Math.random())]},C=function(e){for(var t=N(),n=Object(o.a)(t,2),r=n[0],c=n[1];0!==e[r][c];){var a=N(),i=Object(o.a)(a,2);r=i[0],c=i[1]}return e[r][c]=Math.random()>.5?2:4,e},k=function(e){switch(e){case 2:return"#c74876";case 4:return"#f9c56e";case 8:return"#f83f4e";case 16:return"#573a2e";case 32:return"#0b95db";case 64:return"#c20c59";case 128:return"#b72a94";case 256:return"#7f5ab3";case 512:return"#274d7e";case 1024:return"#36733";case 2048:return"#123429";default:return"#3a98a3"}},J=1,E=2,G=3,I=4,T=5,B=function(e){var t=e.data;return console.log("cube",t),Object(f.jsx)("div",{className:"col-3 board-square",style:{background:k(t),color:0!==t&&"#645B52"},children:Object(f.jsx)("div",{className:"cubicle",children:0===t?"":t})})},H=n(17),L=n.n(H),P=n(18),A=n.n(P),F=n.p+"static/media/game-over.389117e4.jpeg",M=n.p+"static/media/2048.dd8482b4.png",R=n.p+"static/media/congrats.4598a099.png",W=n.p+"static/media/high-score.71ce7175.jpeg",_=function(e,t){var n=A()(L.a);switch(e){case J:n.fire({title:Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:M,style:{height:"150px"}}),Object(f.jsx)("p",{children:"Welcome"})]})}).then((function(){return n.fire({title:Object(f.jsx)("p",{children:"Let's play"}),confirmButtonText:"Start Game",didClose:function(){return t()}})}));break;case E:n.fire({title:Object(f.jsx)("img",{src:F,style:{height:"200px"}})}).then((function(){return n.fire({title:Object(f.jsx)("p",{children:"Come on play again..."}),cancelButtonText:"Cancel",confirmButtonText:"Play Again",didClose:function(){return t()}})}));break;case I:n.fire({title:Object(f.jsx)("img",{src:R,style:{height:"200px"}})}).then((function(){return n.fire({title:Object(f.jsx)("p",{children:"Let's play again..."}),cancelButtonText:"Cancel",confirmButtonText:"Play Again",didClose:function(){return t()}})}));break;case G:n.fire({title:Object(f.jsx)("div",{children:Object(f.jsx)("p",{className:"instructions",children:"HOW TO PLAY: Use your arrow keys to move the tiles. Tiles with the same number merge into one when they touch. Add them up to reach 2048!"})})});break;case T:n.fire({title:Object(f.jsx)("p",{children:"Wow...New High Score."}),iconHtml:Object(f.jsx)("img",{src:W,style:{height:"150px"}})})}},D=function(e){var t=e.newGameOnClick;return Object(f.jsx)("div",{className:"header",children:Object(f.jsxs)("div",{class:"d-flex justify-content-between",children:[Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:t,children:"Reset Game"})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:function(){return _(G,t)},children:"Instructions"})})]})})},U=function(e){var t=e.score,n=O().globalState;return console.log(n),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"header row",children:Object(f.jsx)("div",{className:"gamename",children:Object(f.jsx)("img",{src:M,style:{height:"150px"}})})}),Object(f.jsxs)("div",{class:"d-flex justify-content-between",children:[Object(f.jsx)("div",{children:Object(f.jsxs)("button",{type:"button",class:"btn btn-outline-primary",children:["Score:",Object(f.jsx)("h2",{class:"card-title",children:"".concat(t)})]})}),Object(f.jsx)("div",{children:Object(f.jsxs)("button",{type:"button",class:"btn btn-outline-primary",children:["High Score:",Object(f.jsx)("h2",{class:"card-title",children:"".concat(n.highScore)})]})})]})]})},q=function(){var e=O().globalState,t=O().dispatch,n=Array(4).fill().map((function(){return Array(4).fill(0)})),r=c.a.useState(n),a=Object(o.a)(r,2),i=a[0],l=a[1],u=c.a.useState(!1),d=Object(o.a)(u,2),b=(d[0],d[1]),j=c.a.useState(0),h=Object(o.a)(j,2),g=h[0],N=h[1],k=c.a.useRef(!0);c.a.useEffect((function(){g>e.highScore&&(!function(e,t){e({type:"HIGHSCORE",data:t})}(t,g),k.current&&(_(T,F),k.current=!1))}),[g]),c.a.useEffect((function(){_(J,F)}),[]);var E=function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=i,n=y(i),r=0;r<4;r++)for(var c=n[r],a=0,s=1;a<4;)4!==s?0===c[a]&&0===c[s]?s++:0===c[a]&&0!==c[s]?(c[a]=c[s],c[s]=0,s++):0!==c[a]&&0===c[s]?s++:0!==c[a]&&0!==c[s]&&(c[a]===c[s]?(c[a]=c[a]+c[s],N(g+c[a]),c[s]=0,s=a+1,a++):s=++a+1):(s=a+1,a++);return P(t,n,e)},G=function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(s.a)(i),n=y(i),r=0;r<4;r++)for(var c=0,a=1;c<4;)4!==a?0===t[c][r]&&0===t[a][r]?a++:0===t[c][r]&&0!==t[a][r]?(t[c][r]=t[a][r],t[a][r]=0,a++):0!==t[c][r]&&0===t[a][r]?a++:0!==t[c][r]&&0!==t[a][r]&&(t[c][r]===t[a][r]?(t[c][r]=t[c][r]+t[a][r],N(g+t[c][r]),t[a][r]=0,a=c+1,c++):a=++c+1):(a=c+1,c++);return P(n,t,e)},H=function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=i,n=y(i),r=3;r>=0;r--)for(var c=n[r],a=c.length-1,s=a-1;a>0;)-1!==s?0===c[a]&&0===c[s]?s--:0===c[a]&&0!==c[s]?(c[a]=c[s],c[s]=0,s--):0!==c[a]&&0===c[s]?s--:0!==c[a]&&0!==c[s]&&(c[a]===c[s]?(c[a]=c[a]+c[s],N(g+c[a]),c[s]=0,s=a-1,a--):s=--a-1):(s=a-1,a--);return P(t,n,e)},L=function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(s.a)(i),n=y(i),r=3;r>=0;r--)for(var c=t.length-1,a=c-1;c>0;)-1!==a?0===t[c][r]&&0===t[a][r]?a--:0===t[c][r]&&0!==t[a][r]?(t[c][r]=t[a][r],t[a][r]=0,a--):0!==t[c][r]&&0===t[a][r]?a--:0!==t[c][r]&&0!==t[a][r]&&(t[c][r]===t[a][r]?(t[c][r]=t[c][r]+t[a][r],N(g+t[c][r]),t[a][r]=0,a=c-1,c--):a=--c-1):(a=c-1,c--);return P(n,t,e)},P=function(e,t,n){if(JSON.stringify(e)!==JSON.stringify(t)?w(t,2048)?(b(!0),l(t),_(I,F)):t=C(t):n&&M()&&alert("Game Over"),!n)return t;l(t)},A=function(e){switch(console.log(e),e.keyCode){case x:E();break;case m:G();break;case p:H();break;case v:L()}},F=function(){var e=y(C(C(n)));l(e),N(0)},M=function(){return!w(i,0)&&-1!==[JSON.stringify(E(!1)),JSON.stringify(G(!1)),JSON.stringify(H(!1)),JSON.stringify(L(!1))].indexOf(JSON.stringify(i))};return Object(f.jsxs)("div",{className:"container full-width",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(U,{score:g})}),Object(f.jsxs)("div",{className:"board-container container",tabIndex:"-1",onKeyDown:A,children:[S("keydown",A),Object(f.jsx)("div",{className:"row",children:i.map((function(e){return Object(f.jsx)(f.Fragment,{children:e.map((function(e,t){return Object(f.jsx)(B,{data:e},"cubic-".concat(t))}))})}))})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(D,{newGameOnClick:F})})]})};var K=function(){return Object(f.jsx)(g,{children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)(q,{})})})})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};n(38);i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(K,{})}),document.getElementById("root")),Y()}},[[39,1,2]]]);
//# sourceMappingURL=main.5053aa4c.chunk.js.map